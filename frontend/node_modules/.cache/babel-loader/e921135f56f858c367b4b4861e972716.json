{"ast":null,"code":"import _slicedToArray from\"/Users/pacifique/Desktop/UC/offiaclreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Button from'../shared/components/FormElements/Button';import{useSelector,useDispatch}from'react-redux';import{Link,withRouter}from'react-router-dom';import Card from'../shared/components/UIElements/Card';import LoadingSpinner from'../shared/components/UIElements/LoadingSpinner';import'./EditProfileScreen.css';import Notification from'../shared/components/UIElements/Notification';import{getCandidateByPostDetails}from'../Action/CandidateActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserApplyScreen(_ref){var match=_ref.match;var _useState=useState({isOpen:false,message:'',type:''}),_useState2=_slicedToArray(_useState,2),notify=_useState2[0],setNotify=_useState2[1];var postAId=match.params.id;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),candidate_email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),address=_useState10[0],setAddress=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),whyApply=_useState12[0],setApplyReason=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),bio=_useState14[0],setBio=_useState14[1];var dispatch=useDispatch();var candidateByPost=useSelector(function(state){return state.candidateByPost;});var loading=candidateByPost.loading,error=candidateByPost.error,candidate=candidateByPost.candidate;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;// const postUpdate = useSelector(state => state.postUpdate)\n// const {success:successUpdate,error:errorUpdate,loading:loadingUpdate} = postUpdate\nuseEffect(function(){// if (successUpdate) {\n//   dispatch({type:APPLY_CREATE_RESET})\n//   history.push('/admin/posts')\n// }else{\nif(candidate.name!==userInfo.name||candidate.post!==Number(postAId)){dispatch(getCandidateByPostDetails(postAId));}else if(!candidate.title||!candidate.name){dispatch(getCandidateByPostDetails(postAId));}else{setTitle(candidate.title);setBio(candidate.bio);setName(candidate.name);setEmail(candidate.candidate_email);setAddress(candidate.address);setApplyReason(candidate.whyApply);}},[dispatch,candidate,postAId,userInfo]);var updateSubmitHandler=function updateSubmitHandler(e){e.preventDefault();//  dispatch(CandidateCreate({\n//    post:candidateId, title,bio,name,candidate_email,address,whyApply\n//  }))\nsetNotify({isOpen:true,message:'Submitted Successfully',type:'success'});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:updateSubmitHandler,children:/*#__PURE__*/_jsx(\"div\",{className:\"login-form-register\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-form\",children:loading?/*#__PURE__*/_jsx(LoadingSpinner,{}):error?/*#__PURE__*/_jsx(Card,{children:error}):/*#__PURE__*/_jsxs(\"div\",{className:\"form-all\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[' ',\"Your applying for\",' ',/*#__PURE__*/_jsxs(\"spn\",{style:{color:'seagreen',marginLeft:'3px',marginRight:'3px',fontWeight:'600'},children:[' ',candidate.title,' ']}),' ',\"Post\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Post Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",placeholder:\"Enter Post Title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\" Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",placeholder:\" Applicant Name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\" Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",placeholder:\" Applicant Email\",value:candidate_email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\" Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address\",placeholder:\" Applicant address\",value:address,onChange:function onChange(e){return setAddress(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Biography\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",id:\"description\",placeholder:\"Write a Bio\",value:bio,onChange:function onChange(e){return setBio(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"why\",children:\"Why are you applying for this Post?\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",id:\"why\",placeholder:\"why this post? \",value:whyApply,onChange:function onChange(e){return setApplyReason(e.target.value);}})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"SUBMIT APPLICATION\"})})]})})})}),/*#__PURE__*/_jsx(Notification,{notify:notify,setNotify:setNotify})]});}export default withRouter(UserApplyScreen);","map":{"version":3,"sources":["/Users/pacifique/Desktop/UC/offiaclreact/src/screen/UserApplyScreen.js"],"names":["React","useEffect","useState","Button","useSelector","useDispatch","Link","withRouter","Card","LoadingSpinner","Notification","getCandidateByPostDetails","UserApplyScreen","match","isOpen","message","type","notify","setNotify","postAId","params","id","title","setTitle","name","setName","candidate_email","setEmail","address","setAddress","whyApply","setApplyReason","bio","setBio","dispatch","candidateByPost","state","loading","error","candidate","userLogin","userInfo","post","Number","updateSubmitHandler","e","preventDefault","color","marginLeft","marginRight","fontWeight","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Button from '../shared/components/FormElements/Button';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport Card from '../shared/components/UIElements/Card';\nimport LoadingSpinner from '../shared/components/UIElements/LoadingSpinner';\nimport './EditProfileScreen.css';\nimport Notification from '../shared/components/UIElements/Notification';\nimport { getCandidateByPostDetails } from '../Action/CandidateActions';\n\nfunction UserApplyScreen({ match }) {\n  const [notify, setNotify] = useState({\n    isOpen: false,\n    message: '',\n    type: '',\n  });\n  const postAId = match.params.id;\n  const [title, setTitle] = useState('');\n  const [name, setName] = useState('');\n  const [candidate_email, setEmail] = useState('');\n  const [address, setAddress] = useState('');\n  const [whyApply, setApplyReason] = useState('');\n  const [bio, setBio] = useState('');\n\n  const dispatch = useDispatch();\n\n  const candidateByPost = useSelector((state) => state.candidateByPost);\n  const { loading, error, candidate } = candidateByPost;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  // const postUpdate = useSelector(state => state.postUpdate)\n  // const {success:successUpdate,error:errorUpdate,loading:loadingUpdate} = postUpdate\n\n  useEffect(() => {\n    // if (successUpdate) {\n    //   dispatch({type:APPLY_CREATE_RESET})\n    //   history.push('/admin/posts')\n\n    // }else{\n    if (\n      candidate.name !== userInfo.name ||\n      candidate.post !== Number(postAId)\n    ) {\n      dispatch(getCandidateByPostDetails(postAId));\n    } else if (!candidate.title || !candidate.name) {\n      dispatch(getCandidateByPostDetails(postAId));\n    } else {\n      setTitle(candidate.title);\n      setBio(candidate.bio);\n      setName(candidate.name);\n      setEmail(candidate.candidate_email);\n      setAddress(candidate.address);\n      setApplyReason(candidate.whyApply);\n    }\n  }, [dispatch, candidate, postAId, userInfo]);\n\n  const updateSubmitHandler = (e) => {\n    e.preventDefault();\n\n    //  dispatch(CandidateCreate({\n    //    post:candidateId, title,bio,name,candidate_email,address,whyApply\n    //  }))\n    setNotify({\n      isOpen: true,\n      message: 'Submitted Successfully',\n      type: 'success',\n    });\n  };\n\n  return (\n    <div>\n      <form onSubmit={updateSubmitHandler}>\n        <div className='login-form-register'>\n          <div className='container-form'>\n            {loading ? (\n              <LoadingSpinner />\n            ) : error ? (\n              <Card>{error}</Card>\n            ) : (\n              <div className='form-all'>\n                <h2>\n                  {' '}\n                  Your applying for{' '}\n                  <spn\n                    style={{\n                      color: 'seagreen',\n                      marginLeft: '3px',\n                      marginRight: '3px',\n                      fontWeight: '600',\n                    }}>\n                    {' '}\n                    {candidate.title}{' '}\n                  </spn>{' '}\n                  Post\n                </h2>\n\n                <div className='form-control'>\n                  <label htmlFor='title'>Post Title</label>\n                  <input\n                    type='text'\n                    id='title'\n                    placeholder='Enter Post Title'\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                  />\n                </div>\n\n                <div className='form-control'>\n                  <label htmlFor='name'> Name</label>\n                  <input\n                    type='text'\n                    id='name'\n                    placeholder=' Applicant Name'\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                  />\n                </div>\n\n                <div className='form-control'>\n                  <label htmlFor='email'> Email</label>\n                  <input\n                    type='email'\n                    id='email'\n                    placeholder=' Applicant Email'\n                    value={candidate_email}\n                    onChange={(e) => setEmail(e.target.value)}\n                  />\n                </div>\n\n                <div className='form-control'>\n                  <label htmlFor='address'> Address</label>\n                  <input\n                    type='text'\n                    id='address'\n                    placeholder=' Applicant address'\n                    value={address}\n                    onChange={(e) => setAddress(e.target.value)}\n                  />\n                </div>\n\n                <div className='form-control'>\n                  <label htmlFor='description'>Biography</label>\n                  <textarea\n                    type='text'\n                    id='description'\n                    placeholder='Write a Bio'\n                    value={bio}\n                    onChange={(e) => setBio(e.target.value)}\n                  />\n                </div>\n\n                <div className='form-control'>\n                  <label htmlFor='why'>\n                    Why are you applying for this Post?\n                  </label>\n                  <textarea\n                    type='text'\n                    id='why'\n                    placeholder='why this post? '\n                    value={whyApply}\n                    onChange={(e) => setApplyReason(e.target.value)}\n                  />\n                </div>\n\n                <Link to='/'>\n                  <Button type='submit'>SUBMIT APPLICATION</Button>\n                </Link>\n              </div>\n            )}\n          </div>\n        </div>\n      </form>\n      <Notification notify={notify} setNotify={setNotify} />\n    </div>\n  );\n}\n\nexport default withRouter(UserApplyScreen);\n"]},"metadata":{},"sourceType":"module"}