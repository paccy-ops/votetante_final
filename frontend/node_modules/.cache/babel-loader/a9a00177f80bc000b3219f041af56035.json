{"ast":null,"code":"import _objectSpread from\"/Users/pacifique/Desktop/UC/apps/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/pacifique/Desktop/UC/apps/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{Link,withRouter}from'react-router-dom';import LoadingSpinner from'../shared/components/UIElements/LoadingSpinner';import Card from'../shared/components/UIElements/Card';import'./CandidateList.css';import{EditOutlined,DeleteOutline}from'@material-ui/icons';import Controls from'../shared/controls/Controls';import Notification from'../shared/components/UIElements/Notification';import VisibilityIcon from'@material-ui/icons/Visibility';import ConfirmDialog from'../shared/components/UIElements/ConfirmDialog';import{CandidateDelete,listCandidates}from'../Action/CandidateActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CandidateList(_ref){var history=_ref.history;var _useState=useState({isOpen:false,message:'',type:''}),_useState2=_slicedToArray(_useState,2),notify=_useState2[0],setNotify=_useState2[1];var _useState3=useState({isOpen:false,title:'',subTitle:''}),_useState4=_slicedToArray(_useState3,2),confirmDialog=_useState4[0],setConfirmDialog=_useState4[1];var dispatch=useDispatch();var candidatesList=useSelector(function(state){return state.candidatesList;});var candidates=candidatesList.candidates,loading=candidatesList.loading,error=candidatesList.error;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var deleteCandidate=useSelector(function(state){return state.deleteCandidate;});var deleteSuccess=deleteCandidate.success,deleteError=deleteCandidate.error,loadingDelete=deleteCandidate.loading;useEffect(function(){if(!userInfo.isAdmin){history.push('/login/user');}else{dispatch(listCandidates());}},[dispatch,userInfo,history,deleteSuccess]);var deleteHandler=function deleteHandler(id){dispatch(CandidateDelete(id));if(deleteSuccess){setConfirmDialog(_objectSpread(_objectSpread({},confirmDialog),{},{isOpen:false}));setNotify({isOpen:true,message:'Deleted Successfully',type:'error'});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"candidate__list\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'23px'},children:\"ALL CANDIDATES LIST\"}),deleteError&&/*#__PURE__*/_jsx(Card,{children:deleteError}),loadingDelete&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),loading?/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}):error?/*#__PURE__*/_jsx(Card,{children:error}):/*#__PURE__*/_jsxs(\"table\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Casts\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Active\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:candidates.map(function(candidate){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:candidate.id}),/*#__PURE__*/_jsx(\"td\",{children:candidate.title}),/*#__PURE__*/_jsx(\"td\",{children:candidate.name}),/*#__PURE__*/_jsx(\"td\",{children:candidate.candidate_email}),/*#__PURE__*/_jsx(\"td\",{children:candidate.address}),/*#__PURE__*/_jsx(\"td\",{children:candidate.numCasts}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{style:{color:candidate.isPass?'#126EFD':''},children:candidate.isPass?'Yes':/*#__PURE__*/_jsx(\"i\",{style:{color:'red',marginLeft:'20px'},className:\"fas fa-times\"})})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/users/\".concat(candidate.user),children:/*#__PURE__*/_jsx(Controls.ActionButton,{color:\"primary\",children:/*#__PURE__*/_jsx(VisibilityIcon,{fontSize:\"small\"})})}),/*#__PURE__*/_jsx(Link,{to:\"/admin/candidatelist/\".concat(candidate.id,\"/edit\"),children:/*#__PURE__*/_jsx(Controls.ActionButton,{color:\"primary\",children:/*#__PURE__*/_jsx(EditOutlined,{fontSize:\"small\"})})}),/*#__PURE__*/_jsx(Controls.ActionButton,{color:\"default\",children:/*#__PURE__*/_jsx(DeleteOutline,{fontSize:\"small\",onClick:function onClick(){setConfirmDialog({isOpen:true,title:'Are you sure to delete this Post?',subTitle:\"You can't undo this operation!\",onConfirm:function onConfirm(){deleteHandler(candidate.id);}});// onDelete(item.id);\n}})})]})]},candidate.id);})})]}),/*#__PURE__*/_jsx(Notification,{notify:notify,setNotify:setNotify}),/*#__PURE__*/_jsx(ConfirmDialog,{confirmDialog:confirmDialog,setConfirmDialog:setConfirmDialog})]});}export default withRouter(CandidateList);","map":{"version":3,"sources":["/Users/pacifique/Desktop/UC/apps/src/screen/CandidateList.js"],"names":["React","useEffect","useState","useSelector","useDispatch","Link","withRouter","LoadingSpinner","Card","EditOutlined","DeleteOutline","Controls","Notification","VisibilityIcon","ConfirmDialog","CandidateDelete","listCandidates","CandidateList","history","isOpen","message","type","notify","setNotify","title","subTitle","confirmDialog","setConfirmDialog","dispatch","candidatesList","state","candidates","loading","error","userLogin","userInfo","deleteCandidate","deleteSuccess","success","deleteError","loadingDelete","isAdmin","push","deleteHandler","id","fontSize","marginTop","map","candidate","name","candidate_email","address","numCasts","color","isPass","marginLeft","user","onConfirm"],"mappings":"6SAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,cAAP,KAA2B,gDAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,sCAAjB,CACA,MAAO,qBAAP,CACA,OAASC,YAAT,CAAuBC,aAAvB,KAA4C,oBAA5C,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8CAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,aAAP,KAA0B,+CAA1B,CACA,OAASC,eAAT,CAA0BC,cAA1B,KAAgD,4BAAhD,C,wFAEA,QAASC,CAAAA,aAAT,MAAoC,IAAXC,CAAAA,OAAW,MAAXA,OAAW,eACNhB,QAAQ,CAAC,CACnCiB,MAAM,CAAE,KAD2B,CAEnCC,OAAO,CAAE,EAF0B,CAGnCC,IAAI,CAAE,EAH6B,CAAD,CADF,wCAC3BC,MAD2B,eACnBC,SADmB,8BAMQrB,QAAQ,CAAC,CACjDiB,MAAM,CAAE,KADyC,CAEjDK,KAAK,CAAE,EAF0C,CAGjDC,QAAQ,CAAE,EAHuC,CAAD,CANhB,yCAM3BC,aAN2B,eAMZC,gBANY,eAWlC,GAAMC,CAAAA,QAAQ,CAAGxB,WAAW,EAA5B,CAEA,GAAMyB,CAAAA,cAAc,CAAG1B,WAAW,CAAC,SAAC2B,KAAD,QAAWA,CAAAA,KAAK,CAACD,cAAjB,EAAD,CAAlC,CAbkC,GAc1BE,CAAAA,UAd0B,CAcKF,cAdL,CAc1BE,UAd0B,CAcdC,OAdc,CAcKH,cAdL,CAcdG,OAdc,CAcLC,KAdK,CAcKJ,cAdL,CAcLI,KAdK,CAgBlC,GAAMC,CAAAA,SAAS,CAAG/B,WAAW,CAAC,SAAC2B,KAAD,QAAWA,CAAAA,KAAK,CAACI,SAAjB,EAAD,CAA7B,CAhBkC,GAiB1BC,CAAAA,QAjB0B,CAiBbD,SAjBa,CAiB1BC,QAjB0B,CAmBlC,GAAMC,CAAAA,eAAe,CAAGjC,WAAW,CAAC,SAAC2B,KAAD,QAAWA,CAAAA,KAAK,CAACM,eAAjB,EAAD,CAAnC,CAnBkC,GAqBvBC,CAAAA,aArBuB,CAwB9BD,eAxB8B,CAqBhCE,OArBgC,CAsBzBC,WAtByB,CAwB9BH,eAxB8B,CAsBhCH,KAtBgC,CAuBvBO,aAvBuB,CAwB9BJ,eAxB8B,CAuBhCJ,OAvBgC,CA0BlC/B,SAAS,CAAC,UAAM,CACd,GAAI,CAACkC,QAAQ,CAACM,OAAd,CAAuB,CACrBvB,OAAO,CAACwB,IAAR,CAAa,aAAb,EACD,CAFD,IAEO,CACLd,QAAQ,CAACZ,cAAc,EAAf,CAAR,CACD,CACF,CANQ,CAMN,CAACY,QAAD,CAAWO,QAAX,CAAqBjB,OAArB,CAA8BmB,aAA9B,CANM,CAAT,CAQA,GAAMM,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,EAAD,CAAQ,CAC5BhB,QAAQ,CAACb,eAAe,CAAC6B,EAAD,CAAhB,CAAR,CACA,GAAIP,aAAJ,CAAmB,CACjBV,gBAAgB,gCACXD,aADW,MAEdP,MAAM,CAAE,KAFM,GAAhB,CAIAI,SAAS,CAAC,CACRJ,MAAM,CAAE,IADA,CAERC,OAAO,CAAE,sBAFD,CAGRC,IAAI,CAAE,OAHE,CAAD,CAAT,CAKD,CACF,CAbD,CAeA,mBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,WAAI,KAAK,CAAE,CAAEwB,QAAQ,CAAE,MAAZ,CAAX,iCADF,CAEGN,WAAW,eAAI,KAAC,IAAD,WAAOA,WAAP,EAFlB,CAGGC,aAAa,eAAI,KAAC,cAAD,EAAgB,SAAS,KAAzB,EAHpB,CAKGR,OAAO,cACN,KAAC,cAAD,EAAgB,SAAS,KAAzB,EADM,CAEJC,KAAK,cACP,KAAC,IAAD,WAAOA,KAAP,EADO,cAGP,eACE,KAAK,CAAE,CACLa,SAAS,CAAE,MADN,CADT,wBAIE,oCACE,mCACE,yBADF,cAEE,6BAFF,cAGE,6BAHF,cAIE,8BAJF,cAKE,gCALF,cAME,8BANF,cAOE,8BAPF,cAQE,+BARF,GADF,EAJF,cAgBE,uBACGf,UAAU,CAACgB,GAAX,CAAe,SAACC,SAAD,qBACd,mCACE,oBAAKA,SAAS,CAACJ,EAAf,EADF,cAEE,oBAAKI,SAAS,CAACxB,KAAf,EAFF,cAGE,oBAAKwB,SAAS,CAACC,IAAf,EAHF,cAIE,oBAAKD,SAAS,CAACE,eAAf,EAJF,cAKE,oBAAKF,SAAS,CAACG,OAAf,EALF,cAME,oBAAKH,SAAS,CAACI,QAAf,EANF,cAOE,iCACE,aAAM,KAAK,CAAE,CAAEC,KAAK,CAAEL,SAAS,CAACM,MAAV,CAAmB,SAAnB,CAA+B,EAAxC,CAAb,UACGN,SAAS,CAACM,MAAV,CACC,KADD,cAGC,UACE,KAAK,CAAE,CAAED,KAAK,CAAE,KAAT,CAAgBE,UAAU,CAAE,MAA5B,CADT,CAEE,SAAS,CAAC,cAFZ,EAJJ,EADF,EAPF,cAmBE,mCACE,KAAC,IAAD,EAAM,EAAE,kBAAYP,SAAS,CAACQ,IAAtB,CAAR,uBACE,KAAC,QAAD,CAAU,YAAV,EAAuB,KAAK,CAAC,SAA7B,uBACE,KAAC,cAAD,EAAgB,QAAQ,CAAC,OAAzB,EADF,EADF,EADF,cAME,KAAC,IAAD,EAAM,EAAE,gCAA0BR,SAAS,CAACJ,EAApC,SAAR,uBACE,KAAC,QAAD,CAAU,YAAV,EAAuB,KAAK,CAAC,SAA7B,uBACE,KAAC,YAAD,EAAc,QAAQ,CAAC,OAAvB,EADF,EADF,EANF,cAWE,KAAC,QAAD,CAAU,YAAV,EAAuB,KAAK,CAAC,SAA7B,uBACE,KAAC,aAAD,EACE,QAAQ,CAAC,OADX,CAEE,OAAO,CAAE,kBAAM,CACbjB,gBAAgB,CAAC,CACfR,MAAM,CAAE,IADO,CAEfK,KAAK,CAAE,mCAFQ,CAGfC,QAAQ,CAAE,gCAHK,CAIfgC,SAAS,CAAE,oBAAM,CACfd,aAAa,CAACK,SAAS,CAACJ,EAAX,CAAb,CACD,CANc,CAAD,CAAhB,CAQA;AACD,CAZH,EADF,EAXF,GAnBF,GAASI,SAAS,CAACJ,EAAnB,CADc,EAAf,CADH,EAhBF,GAVJ,cAiFE,KAAC,YAAD,EAAc,MAAM,CAAEtB,MAAtB,CAA8B,SAAS,CAAEC,SAAzC,EAjFF,cAkFE,KAAC,aAAD,EACE,aAAa,CAAEG,aADjB,CAEE,gBAAgB,CAAEC,gBAFpB,EAlFF,GADF,CAyFD,CAED,cAAerB,CAAAA,UAAU,CAACW,aAAD,CAAzB","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport LoadingSpinner from '../shared/components/UIElements/LoadingSpinner';\nimport Card from '../shared/components/UIElements/Card';\nimport './CandidateList.css';\nimport { EditOutlined, DeleteOutline } from '@material-ui/icons';\nimport Controls from '../shared/controls/Controls';\nimport Notification from '../shared/components/UIElements/Notification';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport ConfirmDialog from '../shared/components/UIElements/ConfirmDialog';\nimport { CandidateDelete, listCandidates } from '../Action/CandidateActions';\n\nfunction CandidateList({ history }) {\n  const [notify, setNotify] = useState({\n    isOpen: false,\n    message: '',\n    type: '',\n  });\n  const [confirmDialog, setConfirmDialog] = useState({\n    isOpen: false,\n    title: '',\n    subTitle: '',\n  });\n  const dispatch = useDispatch();\n\n  const candidatesList = useSelector((state) => state.candidatesList);\n  const { candidates, loading, error } = candidatesList;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const deleteCandidate = useSelector((state) => state.deleteCandidate);\n  const {\n    success: deleteSuccess,\n    error: deleteError,\n    loading: loadingDelete,\n  } = deleteCandidate;\n\n  useEffect(() => {\n    if (!userInfo.isAdmin) {\n      history.push('/login/user');\n    } else {\n      dispatch(listCandidates());\n    }\n  }, [dispatch, userInfo, history, deleteSuccess]);\n\n  const deleteHandler = (id) => {\n    dispatch(CandidateDelete(id));\n    if (deleteSuccess) {\n      setConfirmDialog({\n        ...confirmDialog,\n        isOpen: false,\n      });\n      setNotify({\n        isOpen: true,\n        message: 'Deleted Successfully',\n        type: 'error',\n      });\n    }\n  };\n\n  return (\n    <div className='candidate__list'>\n      <h2 style={{ fontSize: '23px' }}>ALL CANDIDATES LIST</h2>\n      {deleteError && <Card>{deleteError}</Card>}\n      {loadingDelete && <LoadingSpinner asOverlay />}\n\n      {loading ? (\n        <LoadingSpinner asOverlay />\n      ) : error ? (\n        <Card>{error}</Card>\n      ) : (\n        <table\n          style={{\n            marginTop: '30px',\n          }}>\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Title</th>\n              <th> Name</th>\n              <th> Email</th>\n              <th> Address</th>\n              <th> Casts</th>\n              <th>Active</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {candidates.map((candidate) => (\n              <tr key={candidate.id}>\n                <td>{candidate.id}</td>\n                <td>{candidate.title}</td>\n                <td>{candidate.name}</td>\n                <td>{candidate.candidate_email}</td>\n                <td>{candidate.address}</td>\n                <td>{candidate.numCasts}</td>\n                <td>\n                  <span style={{ color: candidate.isPass ? '#126EFD' : '' }}>\n                    {candidate.isPass ? (\n                      'Yes'\n                    ) : (\n                      <i\n                        style={{ color: 'red', marginLeft: '20px' }}\n                        className='fas fa-times'></i>\n                    )}\n                  </span>\n                </td>\n\n                <td>\n                  <Link to={`/users/${candidate.user}`}>\n                    <Controls.ActionButton color='primary'>\n                      <VisibilityIcon fontSize='small' />\n                    </Controls.ActionButton>\n                  </Link>\n                  <Link to={`/admin/candidatelist/${candidate.id}/edit`}>\n                    <Controls.ActionButton color='primary'>\n                      <EditOutlined fontSize='small' />\n                    </Controls.ActionButton>\n                  </Link>\n                  <Controls.ActionButton color='default'>\n                    <DeleteOutline\n                      fontSize='small'\n                      onClick={() => {\n                        setConfirmDialog({\n                          isOpen: true,\n                          title: 'Are you sure to delete this Post?',\n                          subTitle: \"You can't undo this operation!\",\n                          onConfirm: () => {\n                            deleteHandler(candidate.id);\n                          },\n                        });\n                        // onDelete(item.id);\n                      }}\n                    />\n                  </Controls.ActionButton>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n\n      <Notification notify={notify} setNotify={setNotify} />\n      <ConfirmDialog\n        confirmDialog={confirmDialog}\n        setConfirmDialog={setConfirmDialog}\n      />\n    </div>\n  );\n}\n\nexport default withRouter(CandidateList);\n"]},"metadata":{},"sourceType":"module"}