{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{withRouter}from'react-router-dom';import LoadingSpinner from'../shared/components/UIElements/LoadingSpinner';import Card from'../shared/components/UIElements/Card';import'./profileScreen.css';import{getCandidateDetails}from'../Action/CandidateActions';import{POST_CREATE_VOTE_RESET}from'../constants/PostConstants';import{CreatePostVote}from'../Action/PostActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserProfileScreen(_ref){var match=_ref.match,history=_ref.history;var profileId=match.params.id;var dispatch=useDispatch();var postId=match.params.id;var candidateDetails=useSelector(function(state){return state.candidateDetails;});var loading=candidateDetails.loading,error=candidateDetails.error,candidate=candidateDetails.candidate;var votePost=useSelector(function(state){return state.votePost;});var successCreatedVote=votePost.success,loadingCreatedVote=votePost.loading,errorCreatedVote=votePost.error,casted=votePost.cast;useEffect(function(){if(!candidate.name||candidate.id!==Number(profileId)||successCreatedVote){dispatch(getCandidateDetails(profileId));dispatch({type:POST_CREATE_VOTE_RESET});history.push('/');}},[dispatch,candidate,profileId,history,successCreatedVote]);var votingSubmitHandler=function votingSubmitHandler(e){e.preventDefault();dispatch(CreatePostVote(postId));//\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-post-details_profile\",children:[successCreatedVote&&/*#__PURE__*/_jsx(Card,{children:casted}),errorCreatedVote&&/*#__PURE__*/_jsx(Card,{children:errorCreatedVote}),loadingCreatedVote&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),loading&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),error&&/*#__PURE__*/_jsx(Card,{children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-image_profile\",children:[/*#__PURE__*/_jsx(\"img\",{src:candidate.candidate_image,alt:candidate.name}),candidate.isPass&&/*#__PURE__*/_jsxs(\"button\",{onClick:votingSubmitHandler,children:[\"Vote for: \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:candidate.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-description_profile\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Name: \"}),candidate.name]}),/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Address: \"}),candidate.address]}),/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Role: \"}),candidate.isPass?'Candidate':'User']}),/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Email: \"}),candidate.candidate_email]}),/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Applied For: \"}),candidate.applyingFor]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Bio:\"}),candidate.bio]})]})]});}export default withRouter(UserProfileScreen);","map":{"version":3,"sources":["/Users/pacifique/Desktop/UC/apps/src/screen/CandidateProfile.js"],"names":["React","useEffect","useSelector","useDispatch","withRouter","LoadingSpinner","Card","getCandidateDetails","POST_CREATE_VOTE_RESET","CreatePostVote","UserProfileScreen","match","history","profileId","params","id","dispatch","postId","candidateDetails","state","loading","error","candidate","votePost","successCreatedVote","success","loadingCreatedVote","errorCreatedVote","casted","cast","name","Number","type","push","votingSubmitHandler","e","preventDefault","candidate_image","isPass","color","address","candidate_email","applyingFor","bio"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,cAAP,KAA2B,gDAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,sCAAjB,CACA,MAAO,qBAAP,CAEA,OAASC,mBAAT,KAAoC,4BAApC,CACA,OAASC,sBAAT,KAAuC,4BAAvC,CACA,OAASC,cAAT,KAA+B,uBAA/B,C,wFACA,QAASC,CAAAA,iBAAT,MAA+C,IAAlBC,CAAAA,KAAkB,MAAlBA,KAAkB,CAAXC,OAAW,MAAXA,OAAW,CAC7C,GAAMC,CAAAA,SAAS,CAAGF,KAAK,CAACG,MAAN,CAAaC,EAA/B,CACA,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAEA,GAAMc,CAAAA,MAAM,CAAGN,KAAK,CAACG,MAAN,CAAaC,EAA5B,CAEA,GAAMG,CAAAA,gBAAgB,CAAGhB,WAAW,CAAC,SAACiB,KAAD,QAAWA,CAAAA,KAAK,CAACD,gBAAjB,EAAD,CAApC,CAN6C,GAOrCE,CAAAA,OAPqC,CAOPF,gBAPO,CAOrCE,OAPqC,CAO5BC,KAP4B,CAOPH,gBAPO,CAO5BG,KAP4B,CAOrBC,SAPqB,CAOPJ,gBAPO,CAOrBI,SAPqB,CAS7C,GAAMC,CAAAA,QAAQ,CAAGrB,WAAW,CAAC,SAACiB,KAAD,QAAWA,CAAAA,KAAK,CAACI,QAAjB,EAAD,CAA5B,CAT6C,GAWlCC,CAAAA,kBAXkC,CAezCD,QAfyC,CAW3CE,OAX2C,CAYlCC,kBAZkC,CAezCH,QAfyC,CAY3CH,OAZ2C,CAapCO,gBAboC,CAezCJ,QAfyC,CAa3CF,KAb2C,CAcrCO,MAdqC,CAezCL,QAfyC,CAc3CM,IAd2C,CAiB7C5B,SAAS,CAAC,UAAM,CACd,GACE,CAACqB,SAAS,CAACQ,IAAX,EACAR,SAAS,CAACP,EAAV,GAAiBgB,MAAM,CAAClB,SAAD,CADvB,EAEAW,kBAHF,CAIE,CACAR,QAAQ,CAACT,mBAAmB,CAACM,SAAD,CAApB,CAAR,CACAG,QAAQ,CAAC,CAAEgB,IAAI,CAAExB,sBAAR,CAAD,CAAR,CACAI,OAAO,CAACqB,IAAR,CAAa,GAAb,EACD,CACF,CAVQ,CAUN,CAACjB,QAAD,CAAWM,SAAX,CAAsBT,SAAtB,CAAiCD,OAAjC,CAA0CY,kBAA1C,CAVM,CAAT,CAYA,GAAMU,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,CAAD,CAAO,CACjCA,CAAC,CAACC,cAAF,GACApB,QAAQ,CAACP,cAAc,CAACQ,MAAD,CAAf,CAAR,CACA;AACD,CAJD,CAMA,mBACE,aAAK,SAAS,CAAC,2BAAf,WACGO,kBAAkB,eAAI,KAAC,IAAD,WAAOI,MAAP,EADzB,CAEGD,gBAAgB,eAAI,KAAC,IAAD,WAAOA,gBAAP,EAFvB,CAGGD,kBAAkB,eAAI,KAAC,cAAD,EAAgB,SAAS,KAAzB,EAHzB,CAIGN,OAAO,eAAI,KAAC,cAAD,EAAgB,SAAS,KAAzB,EAJd,CAKGC,KAAK,eAAI,KAAC,IAAD,WAAOA,KAAP,EALZ,cAME,aAAK,SAAS,CAAC,uBAAf,wBACE,YAAK,GAAG,CAAEC,SAAS,CAACe,eAApB,CAAqC,GAAG,CAAEf,SAAS,CAACQ,IAApD,EADF,CAEGR,SAAS,CAACgB,MAAV,eACC,gBAAQ,OAAO,CAAEJ,mBAAjB,qCACY,aAAM,KAAK,CAAE,CAAEK,KAAK,CAAE,MAAT,CAAb,UAAiCjB,SAAS,CAACQ,IAA3C,EADZ,GAHJ,GANF,cAcE,aAAK,SAAS,CAAC,6BAAf,wBACE,mCACE,aAAM,KAAK,CAAE,CAAES,KAAK,CAAE,OAAT,CAAb,oBADF,CAEGjB,SAAS,CAACQ,IAFb,GADF,cAKE,mCACE,aAAM,KAAK,CAAE,CAAES,KAAK,CAAE,OAAT,CAAb,uBADF,CAEGjB,SAAS,CAACkB,OAFb,GALF,cAUE,mCACE,aAAM,KAAK,CAAE,CAAED,KAAK,CAAE,OAAT,CAAb,oBADF,CAEGjB,SAAS,CAACgB,MAAV,CAAmB,WAAnB,CAAiC,MAFpC,GAVF,cAcE,mCACE,aAAM,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAb,qBADF,CAEGjB,SAAS,CAACmB,eAFb,GAdF,cAmBE,mCACE,aAAM,KAAK,CAAE,CAAEF,KAAK,CAAE,OAAT,CAAb,2BADF,CAEGjB,SAAS,CAACoB,WAFb,GAnBF,cAwBE,kCACE,aAAM,KAAK,CAAE,CAAEH,KAAK,CAAE,OAAT,CAAb,kBADF,CAEGjB,SAAS,CAACqB,GAFb,GAxBF,GAdF,GADF,CA8CD,CAED,cAAevC,CAAAA,UAAU,CAACM,iBAAD,CAAzB","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport LoadingSpinner from '../shared/components/UIElements/LoadingSpinner';\nimport Card from '../shared/components/UIElements/Card';\nimport './profileScreen.css';\n\nimport { getCandidateDetails } from '../Action/CandidateActions';\nimport { POST_CREATE_VOTE_RESET } from '../constants/PostConstants';\nimport { CreatePostVote } from '../Action/PostActions';\nfunction UserProfileScreen({ match, history }) {\n  const profileId = match.params.id;\n  const dispatch = useDispatch();\n\n  const postId = match.params.id;\n\n  const candidateDetails = useSelector((state) => state.candidateDetails);\n  const { loading, error, candidate } = candidateDetails;\n\n  const votePost = useSelector((state) => state.votePost);\n  const {\n    success: successCreatedVote,\n    loading: loadingCreatedVote,\n    error: errorCreatedVote,\n    cast: casted,\n  } = votePost;\n\n  useEffect(() => {\n    if (\n      !candidate.name ||\n      candidate.id !== Number(profileId) ||\n      successCreatedVote\n    ) {\n      dispatch(getCandidateDetails(profileId));\n      dispatch({ type: POST_CREATE_VOTE_RESET });\n      history.push('/');\n    }\n  }, [dispatch, candidate, profileId, history, successCreatedVote]);\n\n  const votingSubmitHandler = (e) => {\n    e.preventDefault();\n    dispatch(CreatePostVote(postId));\n    //\n  };\n\n  return (\n    <div className='main-post-details_profile'>\n      {successCreatedVote && <Card>{casted}</Card>}\n      {errorCreatedVote && <Card>{errorCreatedVote}</Card>}\n      {loadingCreatedVote && <LoadingSpinner asOverlay />}\n      {loading && <LoadingSpinner asOverlay />}\n      {error && <Card>{error}</Card>}\n      <div className='section-image_profile'>\n        <img src={candidate.candidate_image} alt={candidate.name} />\n        {candidate.isPass && (\n          <button onClick={votingSubmitHandler}>\n            Vote for: <span style={{ color: '#fff' }}>{candidate.name}</span>\n          </button>\n        )}\n      </div>\n      <div className='section-description_profile'>\n        <h2>\n          <span style={{ color: 'green' }}>Name: </span>\n          {candidate.name}\n        </h2>\n        <h2>\n          <span style={{ color: 'green' }}>Address: </span>\n          {candidate.address}\n        </h2>\n\n        <h2>\n          <span style={{ color: 'green' }}>Role: </span>\n          {candidate.isPass ? 'Candidate' : 'User'}\n        </h2>\n        <h2>\n          <span style={{ color: 'green' }}>Email: </span>\n          {candidate.candidate_email}\n        </h2>\n\n        <h2>\n          <span style={{ color: 'green' }}>Applied For: </span>\n          {candidate.applyingFor}\n        </h2>\n\n        <p>\n          <span style={{ color: 'green' }}>Bio:</span>\n          {candidate.bio}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(UserProfileScreen);\n"]},"metadata":{},"sourceType":"module"}