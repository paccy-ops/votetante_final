{"ast":null,"code":"import _slicedToArray from\"/Users/pacifique/Desktop/UC/offiaclreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{withRouter}from'react-router-dom';import LoadingSpinner from'../shared/components/UIElements/LoadingSpinner';import Card from'../shared/components/UIElements/Card';import'./ScreenResults.css';import Notification from'../shared/components/UIElements/Notification';import ConfirmDialog from'../shared/components/UIElements/ConfirmDialog';import{listCandidates}from'../Action/CandidateActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ScreenResults(_ref){var history=_ref.history;var _useState=useState({isOpen:false,message:'',type:''}),_useState2=_slicedToArray(_useState,2),notify=_useState2[0],setNotify=_useState2[1];var _useState3=useState({isOpen:false,title:'',subTitle:''}),_useState4=_slicedToArray(_useState3,2),confirmDialog=_useState4[0],setConfirmDialog=_useState4[1];var dispatch=useDispatch();var candidatesList=useSelector(function(state){return state.candidatesList;});var candidates=candidatesList.candidates,loading=candidatesList.loading,error=candidatesList.error;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var deleteCandidate=useSelector(function(state){return state.deleteCandidate;});var deleteSuccess=deleteCandidate.success,deleteError=deleteCandidate.error,loadingDelete=deleteCandidate.loading;useEffect(function(){dispatch(listCandidates());},[dispatch,userInfo,history,deleteSuccess]);return/*#__PURE__*/_jsxs(\"div\",{className:\"candidate__list_screen\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'23px'},children:\"CANDIDATES LIVE RESULTS\"}),deleteError&&/*#__PURE__*/_jsx(Card,{children:deleteError}),loadingDelete&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),loading?/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}):error?/*#__PURE__*/_jsx(Card,{children:error}):/*#__PURE__*/_jsxs(\"table\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Post\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Candidate Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Candidate Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Number of Votes\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:candidates.map(function(candidate){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:candidate.title}),/*#__PURE__*/_jsx(\"td\",{children:candidate.name}),/*#__PURE__*/_jsx(\"td\",{children:candidate.address}),candidate.numCasts>2?/*#__PURE__*/_jsxs(\"td\",{children:[candidate.numCasts,' ',/*#__PURE__*/_jsx(\"spa\",{style:{color:'#FDCC10'},children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-angle-double-up\"})})]}):/*#__PURE__*/_jsxs(\"td\",{children:[candidate.numCasts,\" - \"]})]},candidate.id);})})]}),/*#__PURE__*/_jsx(Notification,{notify:notify,setNotify:setNotify}),/*#__PURE__*/_jsx(ConfirmDialog,{confirmDialog:confirmDialog,setConfirmDialog:setConfirmDialog})]});}export default withRouter(ScreenResults);","map":{"version":3,"sources":["/Users/pacifique/Desktop/UC/offiaclreact/src/screen/ScreenResults.js"],"names":["React","useEffect","useState","useSelector","useDispatch","withRouter","LoadingSpinner","Card","Notification","ConfirmDialog","listCandidates","ScreenResults","history","isOpen","message","type","notify","setNotify","title","subTitle","confirmDialog","setConfirmDialog","dispatch","candidatesList","state","candidates","loading","error","userLogin","userInfo","deleteCandidate","deleteSuccess","success","deleteError","loadingDelete","fontSize","marginTop","map","candidate","name","address","numCasts","color","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport LoadingSpinner from '../shared/components/UIElements/LoadingSpinner';\nimport Card from '../shared/components/UIElements/Card';\nimport './ScreenResults.css';\nimport Notification from '../shared/components/UIElements/Notification';\nimport ConfirmDialog from '../shared/components/UIElements/ConfirmDialog';\nimport { listCandidates } from '../Action/CandidateActions';\n\nfunction ScreenResults({ history }) {\n  const [notify, setNotify] = useState({\n    isOpen: false,\n    message: '',\n    type: '',\n  });\n  const [confirmDialog, setConfirmDialog] = useState({\n    isOpen: false,\n    title: '',\n    subTitle: '',\n  });\n  const dispatch = useDispatch();\n\n  const candidatesList = useSelector((state) => state.candidatesList);\n  const { candidates, loading, error } = candidatesList;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const deleteCandidate = useSelector((state) => state.deleteCandidate);\n  const {\n    success: deleteSuccess,\n    error: deleteError,\n    loading: loadingDelete,\n  } = deleteCandidate;\n\n  useEffect(() => {\n    dispatch(listCandidates());\n  }, [dispatch, userInfo, history, deleteSuccess]);\n\n  return (\n    <div className='candidate__list_screen'>\n      <h2 style={{ fontSize: '23px' }}>CANDIDATES LIVE RESULTS</h2>\n      {deleteError && <Card>{deleteError}</Card>}\n      {loadingDelete && <LoadingSpinner asOverlay />}\n\n      {loading ? (\n        <LoadingSpinner asOverlay />\n      ) : error ? (\n        <Card>{error}</Card>\n      ) : (\n        <table\n          style={{\n            marginTop: '30px',\n          }}>\n          <thead>\n            <tr>\n              <th>Post</th>\n              <th> Candidate Name</th>\n\n              <th> Candidate Address</th>\n              <th> Number of Votes</th>\n            </tr>\n          </thead>\n          <tbody>\n            {candidates.map((candidate) => (\n              <tr key={candidate.id}>\n                <td>{candidate.title}</td>\n                <td>{candidate.name}</td>\n\n                <td>{candidate.address}</td>\n                {candidate.numCasts > 2 ? (\n                  <td>\n                    {candidate.numCasts}{' '}\n                    <spa style={{ color: '#FDCC10' }}>\n                      <i class='fas fa-angle-double-up'></i>\n                    </spa>\n                  </td>\n                ) : (\n                  <td>{candidate.numCasts} - </td>\n                )}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n\n      <Notification notify={notify} setNotify={setNotify} />\n      <ConfirmDialog\n        confirmDialog={confirmDialog}\n        setConfirmDialog={setConfirmDialog}\n      />\n    </div>\n  );\n}\n\nexport default withRouter(ScreenResults);\n"]},"metadata":{},"sourceType":"module"}