{"ast":null,"code":"import _slicedToArray from\"/Users/pacifique/Desktop/UC/apps/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Button from'../shared/components/FormElements/Button';import{useSelector,useDispatch}from'react-redux';import{Link}from'react-router-dom';import Card from'../shared/components/UIElements/Card';import LoadingSpinner from'../shared/components/UIElements/LoadingSpinner';import{USER_UPDATE_RESET}from'../constants/UserConstant';import'./EditProfileScreen.css';import Notification from'../shared/components/UIElements/Notification';import{getUserDetails,updateUser}from'../Action/UserActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditUserScreen(_ref){var match=_ref.match,history=_ref.history;var _useState=useState({isOpen:false,message:'',type:''}),_useState2=_slicedToArray(_useState,2),notify=_useState2[0],setNotify=_useState2[1];var userId=match.params.id;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),bio=_useState10[0],setBio=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isAdmin=_useState12[0],setIsAdmin=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isCandidate=_useState14[0],setIsCandidate=_useState14[1];var dispatch=useDispatch();var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,error=userDetails.error,user=userDetails.user;var userUpdate=useSelector(function(state){return state.userUpdate;});var successUpdate=userUpdate.success,errorUpdate=userUpdate.error,loadingUpdate=userUpdate.loading;useEffect(function(){if(successUpdate){dispatch({type:USER_UPDATE_RESET});history.push('/admin/users');}else{if(!user.name||user.id!==Number(userId)){dispatch(getUserDetails(userId));}else{setName(user.name);setEmail(user.email);setLocation(user.location);setBio(user.bio);setIsCandidate(user.isCandidate);setIsAdmin(user.isAdmin);}}},[dispatch,user,userId,history,successUpdate]);var updateSubmitHandler=function updateSubmitHandler(e){e.preventDefault();dispatch(updateUser({id:user.id,name:name,email:email,location:location,bio:bio,isAdmin:isAdmin,isCandidate:isCandidate}));setNotify({isOpen:true,message:'Submitted Successfully',type:'success'});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/users/\",children:/*#__PURE__*/_jsx(\"button\",{style:{position:'absolute',left:'200px',outline:'none'},type:\"button\",className:\"btn btn-outline-secondary\",children:\"GO BACK\"})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:updateSubmitHandler,children:/*#__PURE__*/_jsx(\"div\",{className:\"login-form-register\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-form\",children:[errorUpdate&&/*#__PURE__*/_jsx(Card,{children:errorUpdate}),loadingUpdate&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),loading?/*#__PURE__*/_jsx(LoadingSpinner,{}):error?/*#__PURE__*/_jsx(Card,{children:error}):/*#__PURE__*/_jsxs(\"div\",{className:\"form-all\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"EDIT USER \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",placeholder:\"Enter Name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",placeholder:\"Enter Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address\",placeholder:\"Enter Address\",value:location,onChange:function onChange(e){return setLocation(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bio\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",id:\"bio\",placeholder:\"Write a Bio\",value:bio,onChange:function onChange(e){return setBio(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-switch\",children:[/*#__PURE__*/_jsx(\"input\",{checked:isCandidate,onChange:function onChange(e){return setIsCandidate(e.target.checked);},className:\"form-check-input\",type:\"checkbox\",id:\"flexSwitchCheckDefault\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",for:\"flexSwitchCheckDefault\",children:\"IsCandidate\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-control\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-switch\",children:[/*#__PURE__*/_jsx(\"input\",{checked:isAdmin,onChange:function onChange(e){return setIsAdmin(e.target.checked);},className:\"form-check-input\",type:\"checkbox\",id:\"flexSwitchCheckDefaults\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",for:\"flexSwitchCheckDefaults\",children:\"IsAdmin\"})]})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"SAVE UPDATES\"})]})]})})}),/*#__PURE__*/_jsx(Notification,{notify:notify,setNotify:setNotify})]});}export default EditUserScreen;","map":{"version":3,"sources":["/Users/pacifique/Desktop/UC/apps/src/screen/EditUserScreen.js"],"names":["React","useEffect","useState","Button","useSelector","useDispatch","Link","Card","LoadingSpinner","USER_UPDATE_RESET","Notification","getUserDetails","updateUser","EditUserScreen","match","history","isOpen","message","type","notify","setNotify","userId","params","id","name","setName","email","setEmail","location","setLocation","bio","setBio","isAdmin","setIsAdmin","isCandidate","setIsCandidate","dispatch","userDetails","state","loading","error","user","userUpdate","successUpdate","success","errorUpdate","loadingUpdate","push","Number","updateSubmitHandler","e","preventDefault","position","left","outline","target","value","checked"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Button from '../shared/components/FormElements/Button';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Card from '../shared/components/UIElements/Card';\nimport LoadingSpinner from '../shared/components/UIElements/LoadingSpinner';\nimport { USER_UPDATE_RESET } from '../constants/UserConstant';\nimport './EditProfileScreen.css';\nimport Notification from '../shared/components/UIElements/Notification';\n\nimport { getUserDetails, updateUser } from '../Action/UserActions';\n\nfunction EditUserScreen({ match, history }) {\n  const [notify, setNotify] = useState({\n    isOpen: false,\n    message: '',\n    type: '',\n  });\n\n  const userId = match.params.id;\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [location, setLocation] = useState('');\n  const [bio, setBio] = useState('');\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isCandidate, setIsCandidate] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { loading, error, user } = userDetails;\n\n  const userUpdate = useSelector((state) => state.userUpdate);\n  const {\n    success: successUpdate,\n    error: errorUpdate,\n    loading: loadingUpdate,\n  } = userUpdate;\n\n  useEffect(() => {\n    if (successUpdate) {\n      dispatch({ type: USER_UPDATE_RESET });\n      history.push('/admin/users');\n    } else {\n      if (!user.name || user.id !== Number(userId)) {\n        dispatch(getUserDetails(userId));\n      } else {\n        setName(user.name);\n        setEmail(user.email);\n        setLocation(user.location);\n        setBio(user.bio);\n        setIsCandidate(user.isCandidate);\n        setIsAdmin(user.isAdmin);\n      }\n    }\n  }, [dispatch, user, userId, history, successUpdate]);\n\n  const updateSubmitHandler = (e) => {\n    e.preventDefault();\n\n    dispatch(\n      updateUser({\n        id: user.id,\n        name,\n        email,\n        location,\n        bio,\n        isAdmin,\n        isCandidate,\n      })\n    );\n    setNotify({\n      isOpen: true,\n      message: 'Submitted Successfully',\n      type: 'success',\n    });\n  };\n  return (\n    <div>\n      <Link to='/admin/users/'>\n        <button\n          style={{ position: 'absolute', left: '200px', outline: 'none' }}\n          type='button'\n          className='btn btn-outline-secondary'>\n          GO BACK\n        </button>\n      </Link>\n      <form onSubmit={updateSubmitHandler}>\n        <div className='login-form-register'>\n          <div className='container-form'>\n            {errorUpdate && <Card>{errorUpdate}</Card>}\n            {loadingUpdate && <LoadingSpinner asOverlay />}\n            {loading ? (\n              <LoadingSpinner />\n            ) : error ? (\n              <Card>{error}</Card>\n            ) : (\n              <div className='form-all'>\n                <h2>EDIT USER </h2>\n\n                <div className='form-control'>\n                  <label htmlFor='username'>Name</label>\n                  <input\n                    type='text'\n                    id='username'\n                    placeholder='Enter Name'\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                  />\n                </div>\n                <div className='form-control'>\n                  <label htmlFor='email'>Email</label>\n                  <input\n                    type='email'\n                    id='email'\n                    placeholder='Enter Email'\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                  />\n                </div>\n\n                <div className='form-control'>\n                  <label htmlFor='address'>Address</label>\n                  <input\n                    type='text'\n                    id='address'\n                    placeholder='Enter Address'\n                    value={location}\n                    onChange={(e) => setLocation(e.target.value)}\n                  />\n                </div>\n\n                <div className='form-control'>\n                  <label htmlFor='bio'>Bio</label>\n                  <textarea\n                    type='text'\n                    id='bio'\n                    placeholder='Write a Bio'\n                    value={bio}\n                    onChange={(e) => setBio(e.target.value)}\n                  />\n                </div>\n                <div className='form-control'>\n                  <div className='form-check form-switch'>\n                    <input\n                      checked={isCandidate}\n                      onChange={(e) => setIsCandidate(e.target.checked)}\n                      className='form-check-input'\n                      type='checkbox'\n                      id='flexSwitchCheckDefault'\n                    />\n                    <label\n                      className='form-check-label'\n                      for='flexSwitchCheckDefault'>\n                      IsCandidate\n                    </label>\n                  </div>\n                </div>\n                <div className='form-control'>\n                  <div className='form-check form-switch'>\n                    <input\n                      checked={isAdmin}\n                      onChange={(e) => setIsAdmin(e.target.checked)}\n                      className='form-check-input'\n                      type='checkbox'\n                      id='flexSwitchCheckDefaults'\n                    />\n                    <label\n                      className='form-check-label'\n                      for='flexSwitchCheckDefaults'>\n                      IsAdmin\n                    </label>\n                  </div>\n                </div>\n\n                <Button type='submit'>SAVE UPDATES</Button>\n              </div>\n            )}\n          </div>\n        </div>\n      </form>\n      <Notification notify={notify} setNotify={setNotify} />\n    </div>\n  );\n}\n\nexport default EditUserScreen;\n"]},"metadata":{},"sourceType":"module"}