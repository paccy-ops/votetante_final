{"ast":null,"code":"import _objectSpread from\"/Users/pacifique/Desktop/UC/offiaclreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/pacifique/Desktop/UC/offiaclreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{Link,withRouter}from'react-router-dom';import VisibilityIcon from'@material-ui/icons/Visibility';import LoadingSpinner from'../shared/components/UIElements/LoadingSpinner';import Card from'../shared/components/UIElements/Card';import'./UserListScreen.css';import{deleteUser,listUsers}from'../Action/UserActions';import{EditOutlined,DeleteOutline}from'@material-ui/icons';import Controls from'../shared/controls/Controls';import Notification from'../shared/components/UIElements/Notification';import ConfirmDialog from'../shared/components/UIElements/ConfirmDialog';// import Popup from '../shared/components/UIElements/Popup'\n// import EmployeesForm from '../shared/components/UIElements/EmployeesForm'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserListScreen(_ref){var history=_ref.history;var _useState=useState({isOpen:false,message:'',type:''}),_useState2=_slicedToArray(_useState,2),notify=_useState2[0],setNotify=_useState2[1];var _useState3=useState({isOpen:false,title:'',subTitle:''}),_useState4=_slicedToArray(_useState3,2),confirmDialog=_useState4[0],setConfirmDialog=_useState4[1];var dispatch=useDispatch();var userList=useSelector(function(state){return state.userList;});var users=userList.users,loading=userList.loading,error=userList.error;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var userDelete=useSelector(function(state){return state.userDelete;});var success=userDelete.success;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{history.push('/login/user');}},[dispatch,userInfo,history,success]);var deleteHandler=function deleteHandler(id){dispatch(deleteUser(id));setConfirmDialog(_objectSpread(_objectSpread({},confirmDialog),{},{isOpen:false}));setNotify({isOpen:true,message:'Deleted Successfully',type:'error'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"user__list\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'23px'},children:\"USERS LIST\"}),loading?/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}):error?/*#__PURE__*/_jsx(Card,{children:error}):/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Candidate\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.location}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{style:{color:user.isAdmin?'#126EFD':''},children:user.isAdmin?'Admin':'User'})}),/*#__PURE__*/_jsx(\"td\",{style:{color:user.isCandidate?'#126EFD':''},children:user.isCandidate?'Yes':/*#__PURE__*/_jsx(\"i\",{style:{color:'red',marginLeft:'20px'},className:\"fas fa-times\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/users/\".concat(user.id),children:/*#__PURE__*/_jsx(Controls.ActionButton,{color:\"primary\",children:/*#__PURE__*/_jsx(VisibilityIcon,{fontSize:\"small\"})})}),/*#__PURE__*/_jsx(Link,{to:\"/admin/user/\".concat(user.id,\"/edit\"),children:/*#__PURE__*/_jsx(Controls.ActionButton,{color:\"primary\",children:/*#__PURE__*/_jsx(EditOutlined,{fontSize:\"small\"})})}),/*#__PURE__*/_jsx(Controls.ActionButton,{color:\"default\",children:/*#__PURE__*/_jsx(DeleteOutline,{fontSize:\"small\",onClick:function onClick(){setConfirmDialog({isOpen:true,title:'Are you sure to delete this User?',subTitle:\"You can't undo this operation!\",onConfirm:function onConfirm(){deleteHandler(user.id);}});// onDelete(item.id);\n}})})]})]},user.id);})})]}),/*#__PURE__*/_jsx(Notification,{notify:notify,setNotify:setNotify}),/*#__PURE__*/_jsx(ConfirmDialog,{confirmDialog:confirmDialog,setConfirmDialog:setConfirmDialog})]});}export default withRouter(UserListScreen);","map":{"version":3,"sources":["/Users/pacifique/Desktop/UC/offiaclreact/src/screen/UserListScreen.js"],"names":["React","useEffect","useState","useSelector","useDispatch","Link","withRouter","VisibilityIcon","LoadingSpinner","Card","deleteUser","listUsers","EditOutlined","DeleteOutline","Controls","Notification","ConfirmDialog","UserListScreen","history","isOpen","message","type","notify","setNotify","title","subTitle","confirmDialog","setConfirmDialog","dispatch","userList","state","users","loading","error","userLogin","userInfo","userDelete","success","isAdmin","push","deleteHandler","id","fontSize","map","user","name","email","location","color","isCandidate","marginLeft","onConfirm"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport LoadingSpinner from '../shared/components/UIElements/LoadingSpinner';\nimport Card from '../shared/components/UIElements/Card';\nimport './UserListScreen.css';\nimport { deleteUser, listUsers } from '../Action/UserActions';\nimport { EditOutlined, DeleteOutline } from '@material-ui/icons';\nimport Controls from '../shared/controls/Controls';\nimport Notification from '../shared/components/UIElements/Notification';\nimport ConfirmDialog from '../shared/components/UIElements/ConfirmDialog';\n// import Popup from '../shared/components/UIElements/Popup'\n// import EmployeesForm from '../shared/components/UIElements/EmployeesForm'\n\nfunction UserListScreen({ history }) {\n  \n  const [notify, setNotify] = useState({\n    isOpen: false,\n    message: '',\n    type: '',\n  });\n  const [confirmDialog, setConfirmDialog] = useState({\n    isOpen: false,\n    title: '',\n    subTitle: '',\n  });\n  const dispatch = useDispatch();\n  const userList = useSelector((state) => state.userList);\n  const { users, loading, error } = userList;\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const userDelete = useSelector((state) => state.userDelete);\n  const { success } = userDelete;\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listUsers());\n    } else {\n      history.push('/login/user');\n    }\n  }, [dispatch, userInfo, history, success]);\n\n  const deleteHandler = (id) => {\n    dispatch(deleteUser(id));\n    setConfirmDialog({\n      ...confirmDialog,\n      isOpen: false,\n    });\n    setNotify({\n      isOpen: true,\n      message: 'Deleted Successfully',\n      type: 'error',\n    });\n  };\n  return (\n    <div className='user__list'>\n      <h2 style={{ fontSize: '23px' }}>USERS LIST</h2>\n\n      {loading ? (\n        <LoadingSpinner asOverlay />\n      ) : error ? (\n        <Card>{error}</Card>\n      ) : (\n        <table>\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Name</th>\n              <th>Email</th>\n              <th>Address</th>\n              <th>Role</th>\n              <th>Candidate</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map((user) => (\n              <tr key={user.id}>\n                <td>{user.id}</td>\n                <td>{user.name}</td>\n                <td>{user.email}</td>\n                <td>{user.location}</td>\n                <td>\n                  <span style={{ color: user.isAdmin ? '#126EFD' : '' }}>\n                    {user.isAdmin ? 'Admin' : 'User'}\n                  </span>\n                </td>\n                <td style={{ color: user.isCandidate ? '#126EFD' : '' }}>\n                  {user.isCandidate ? (\n                    'Yes'\n                  ) : (\n                    <i\n                      style={{ color: 'red', marginLeft: '20px' }}\n                      className='fas fa-times'></i>\n                  )}\n                </td>\n                <td>\n                  <Link to={`/users/${user.id}`}>\n                    <Controls.ActionButton color='primary'>\n                      <VisibilityIcon fontSize='small' />\n                    </Controls.ActionButton>\n                  </Link>\n                  <Link to={`/admin/user/${user.id}/edit`}>\n                    <Controls.ActionButton color='primary'>\n                      <EditOutlined fontSize='small' />\n                    </Controls.ActionButton>\n                  </Link>\n                  <Controls.ActionButton color='default'>\n                    <DeleteOutline\n                      fontSize='small'\n                      onClick={() => {\n                        setConfirmDialog({\n                          isOpen: true,\n                          title: 'Are you sure to delete this User?',\n                          subTitle: \"You can't undo this operation!\",\n                          onConfirm: () => {\n                            deleteHandler(user.id);\n                          },\n                        });\n                        // onDelete(item.id);\n                      }}\n                    />\n                  </Controls.ActionButton>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n\n      <Notification notify={notify} setNotify={setNotify} />\n      <ConfirmDialog\n        confirmDialog={confirmDialog}\n        setConfirmDialog={setConfirmDialog}\n      />\n    </div>\n  );\n}\n\nexport default withRouter(UserListScreen);\n"]},"metadata":{},"sourceType":"module"}