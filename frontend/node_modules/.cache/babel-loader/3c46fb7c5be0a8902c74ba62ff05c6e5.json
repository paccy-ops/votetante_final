{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{getUserDetails}from'../Action/UserActions';import LoadingSpinner from'../shared/components/UIElements/LoadingSpinner';import Card from'../shared/components/UIElements/Card';import Button from'../shared/components/FormElements/Button';import'./profileScreen.css';import profile from\"../images/profile.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfileScreen(_ref){var history=_ref.history;var dispatch=useDispatch();var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,error=userDetails.error,user=userDetails.user;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(!userInfo){history.push('/login');}else{if(!user||!user.name||!user.image||userInfo.id!==user.id){dispatch(getUserDetails('profile'));}}},[dispatch,userInfo,user,history]);return/*#__PURE__*/_jsx(\"div\",{className:\"profile-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-post-details_profile\",children:[loading&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),error&&/*#__PURE__*/_jsx(Card,{children:error}),user.image?/*#__PURE__*/_jsx(\"div\",{className:\"section-image_profile\",children:/*#__PURE__*/_jsx(\"img\",{src:user.image,alt:user.name})}):/*#__PURE__*/_jsx(\"div\",{className:\"section-image_profile\",children:/*#__PURE__*/_jsx(\"img\",{src:profile,alt:user.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-description_profile\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Name: \"}),user.name]}),/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Address: \"}),user.location]}),/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Role: \"}),user.isAdmin?'Admin':user.isCandidate?'Candidate':'User']}),/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Email: \"}),user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Bio:\"}),user.bio]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-profile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn1\",children:!user.bio&&!user.location?/*#__PURE__*/_jsx(Button,{to:\"/user/profile/\".concat(user.id,\"/edit\"),style:{marginLeft:'30px'},children:\"COMPLETE PROFILE\"}):/*#__PURE__*/_jsx(Button,{to:\"/user/profile/\".concat(user.id,\"/edit\"),style:{marginLeft:'30px'},children:\"EDIT\"})})})]})});}export default ProfileScreen;","map":{"version":3,"sources":["/Users/pacifique/Desktop/UC/apps/src/screen/ProfileScreen.js"],"names":["React","useEffect","useSelector","useDispatch","getUserDetails","LoadingSpinner","Card","Button","ProfileScreen","history","dispatch","userDetails","state","loading","error","user","userLogin","userInfo","push","name","image","id","profile","color","location","isAdmin","isCandidate","email","bio","marginLeft"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,MAAOC,CAAAA,cAAP,KAA2B,gDAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,sCAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0CAAnB,CACA,MAAO,qBAAP,C,mIAEA,QAASC,CAAAA,aAAT,MAAoC,IAAXC,CAAAA,OAAW,MAAXA,OAAW,CAClC,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,CAAAA,WAAW,CAAGT,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACD,WAAjB,EAAD,CAA/B,CAHkC,GAI1BE,CAAAA,OAJ0B,CAIDF,WAJC,CAI1BE,OAJ0B,CAIjBC,KAJiB,CAIDH,WAJC,CAIjBG,KAJiB,CAIVC,IAJU,CAIDJ,WAJC,CAIVI,IAJU,CAMlC,GAAMC,CAAAA,SAAS,CAAGd,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACI,SAAjB,EAAD,CAA7B,CANkC,GAO1BC,CAAAA,QAP0B,CAObD,SAPa,CAO1BC,QAP0B,CASlChB,SAAS,CAAC,UAAM,CACd,GAAI,CAACgB,QAAL,CAAe,CACbR,OAAO,CAACS,IAAR,CAAa,QAAb,EACD,CAFD,IAEO,CACL,GAAI,CAACH,IAAD,EAAS,CAACA,IAAI,CAACI,IAAf,EAAuB,CAACJ,IAAI,CAACK,KAA7B,EAAsCH,QAAQ,CAACI,EAAT,GAAgBN,IAAI,CAACM,EAA/D,CAAmE,CACjEX,QAAQ,CAACN,cAAc,CAAC,SAAD,CAAf,CAAR,CACD,CACF,CACF,CARQ,CAQN,CAACM,QAAD,CAAWO,QAAX,CAAqBF,IAArB,CAA2BN,OAA3B,CARM,CAAT,CAUA,mBACE,YAAK,SAAS,CAAC,cAAf,uBACE,aAAK,SAAS,CAAC,2BAAf,WACGI,OAAO,eAAI,KAAC,cAAD,EAAgB,SAAS,KAAzB,EADd,CAEGC,KAAK,eAAI,KAAC,IAAD,WAAOA,KAAP,EAFZ,CAGGC,IAAI,CAACK,KAAL,cACC,YAAK,SAAS,CAAC,uBAAf,uBACE,YAAK,GAAG,CAAEL,IAAI,CAACK,KAAf,CAAsB,GAAG,CAAEL,IAAI,CAACI,IAAhC,EADF,EADD,cAKC,YAAK,SAAS,CAAC,uBAAf,uBACE,YAAK,GAAG,CAAEG,OAAV,CAAmB,GAAG,CAAEP,IAAI,CAACI,IAA7B,EADF,EARJ,cAYE,aAAK,SAAS,CAAC,6BAAf,wBACE,mCACE,aAAM,KAAK,CAAE,CAAEI,KAAK,CAAE,OAAT,CAAb,oBADF,CAEGR,IAAI,CAACI,IAFR,GADF,cAKE,mCACE,aAAM,KAAK,CAAE,CAAEI,KAAK,CAAE,OAAT,CAAb,uBADF,CAEGR,IAAI,CAACS,QAFR,GALF,cAUE,mCACE,aAAM,KAAK,CAAE,CAAED,KAAK,CAAE,OAAT,CAAb,oBADF,CAEGR,IAAI,CAACU,OAAL,CAAe,OAAf,CAAyBV,IAAI,CAACW,WAAL,CAAmB,WAAnB,CAAiC,MAF7D,GAVF,cAcE,mCACE,aAAM,KAAK,CAAE,CAAEH,KAAK,CAAE,OAAT,CAAb,qBADF,CAEGR,IAAI,CAACY,KAFR,GAdF,cAmBE,kCACE,aAAM,KAAK,CAAE,CAAEJ,KAAK,CAAE,OAAT,CAAb,kBADF,CAEGR,IAAI,CAACa,GAFR,GAnBF,GAZF,cAoCE,YAAK,SAAS,CAAC,aAAf,uBACE,YAAK,SAAS,CAAC,MAAf,UACG,CAACb,IAAI,CAACa,GAAN,EAAa,CAACb,IAAI,CAACS,QAAnB,cACC,KAAC,MAAD,EACE,EAAE,yBAAmBT,IAAI,CAACM,EAAxB,SADJ,CAEE,KAAK,CAAE,CAAEQ,UAAU,CAAE,MAAd,CAFT,8BADD,cAOC,KAAC,MAAD,EACE,EAAE,yBAAmBd,IAAI,CAACM,EAAxB,SADJ,CAEE,KAAK,CAAE,CAAEQ,UAAU,CAAE,MAAd,CAFT,kBARJ,EADF,EApCF,GADF,EADF,CA0DD,CAED,cAAerB,CAAAA,aAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getUserDetails } from '../Action/UserActions';\nimport LoadingSpinner from '../shared/components/UIElements/LoadingSpinner';\nimport Card from '../shared/components/UIElements/Card';\nimport Button from '../shared/components/FormElements/Button';\nimport './profileScreen.css';\nimport profile from '../images/profile.svg';\nfunction ProfileScreen({ history }) {\n  const dispatch = useDispatch();\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { loading, error, user } = userDetails;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  useEffect(() => {\n    if (!userInfo) {\n      history.push('/login');\n    } else {\n      if (!user || !user.name || !user.image || userInfo.id !== user.id) {\n        dispatch(getUserDetails('profile'));\n      }\n    }\n  }, [dispatch, userInfo, user, history]);\n\n  return (\n    <div className='profile-page'>\n      <div className='main-post-details_profile'>\n        {loading && <LoadingSpinner asOverlay />}\n        {error && <Card>{error}</Card>}\n        {user.image ? (\n          <div className='section-image_profile'>\n            <img src={user.image} alt={user.name} />\n          </div>\n        ) : (\n          <div className='section-image_profile'>\n            <img src={profile} alt={user.name} />\n          </div>\n        )}\n        <div className='section-description_profile'>\n          <h2>\n            <span style={{ color: 'green' }}>Name: </span>\n            {user.name}\n          </h2>\n          <h2>\n            <span style={{ color: 'green' }}>Address: </span>\n            {user.location}\n          </h2>\n\n          <h2>\n            <span style={{ color: 'green' }}>Role: </span>\n            {user.isAdmin ? 'Admin' : user.isCandidate ? 'Candidate' : 'User'}\n          </h2>\n          <h2>\n            <span style={{ color: 'green' }}>Email: </span>\n            {user.email}\n          </h2>\n\n          <p>\n            <span style={{ color: 'green' }}>Bio:</span>\n            {user.bio}\n          </p>\n        </div>\n        <div className='btn-profile'>\n          <div className='btn1'>\n            {!user.bio && !user.location ? (\n              <Button\n                to={`/user/profile/${user.id}/edit`}\n                style={{ marginLeft: '30px' }}>\n                COMPLETE PROFILE\n              </Button>\n            ) : (\n              <Button\n                to={`/user/profile/${user.id}/edit`}\n                style={{ marginLeft: '30px' }}>\n                EDIT\n              </Button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProfileScreen;\n"]},"metadata":{},"sourceType":"module"}