{"ast":null,"code":"import _objectSpread from\"/Users/pacifique/Desktop/UC/offiaclreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/pacifique/Desktop/UC/offiaclreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import ListItemIcon from'@material-ui/core/ListItemIcon';import ListItemText from'@material-ui/core/ListItemText';import ExitToAppIcon from'@material-ui/icons/ExitToApp';import DashboardIcon from'@material-ui/icons/Dashboard';import AccountCircleIcon from'@material-ui/icons/AccountCircle';import HelpIcon from'@material-ui/icons/Help';import logo from\"../../../images/tante-01.svg\";import profile from'../../../images/user.png';import{withStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import'./MainNavigation.css';import MainHeader from'./MainHeader';import SideDrawer from'./SideDrawer';import Backdrop from'../UIElements/Backdrop';import NavLink from'./NavLinks';import{useSelector,useDispatch}from'react-redux';import{logout}from'../../../Action/UserActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainNavigation=function MainNavigation(_ref){var history=_ref.history;var dispatch=useDispatch();var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),drawerIsOpen=_useState2[0],setDrawerIsOpen=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),anchorEl=_useState4[0],setAnchorEl=_useState4[1];var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var openDrawerHandle=function openDrawerHandle(){setDrawerIsOpen(true);};var closeDrawerHandle=function closeDrawerHandle(){setDrawerIsOpen(false);};var logoutHandler=function logoutHandler(){setAnchorEl(null);dispatch(logout());if(!userInfo){history.push('/');}};var StyledMenu=withStyles({paper:{border:'1px solid #d3d4d5'}})(function(props){return/*#__PURE__*/_jsx(Menu,_objectSpread({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:'bottom',horizontal:'center'},transformOrigin:{vertical:'top',horizontal:'center'}},props));});var StyledMenuItem=withStyles(function(theme){return{root:{'&:focus':{backgroundColor:theme.palette.primary.main,'& .MuiListItemIcon-root, & .MuiListItemText-primary':{color:theme.palette.common.white}}}};})(MenuItem);return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(MainHeader,{children:[drawerIsOpen&&/*#__PURE__*/_jsx(Backdrop,{onClick:closeDrawerHandle}),/*#__PURE__*/_jsx(SideDrawer,{show:drawerIsOpen,onClick:closeDrawerHandle,children:/*#__PURE__*/_jsx(\"nav\",{className:\"main-navigation__drawer-nav\",children:/*#__PURE__*/_jsx(NavLink,{})})}),/*#__PURE__*/_jsxs(\"button\",{className:\"main-navigation__menu-btn\",onClick:openDrawerHandle,children:[' ',/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),' ']}),/*#__PURE__*/_jsx(\"h1\",{className:\"main-navigation__title\",children:userInfo?/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[userInfo.name,\" \"]}):/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[\"VoteTante\",' ',/*#__PURE__*/_jsx(\"img\",{style:{width:'100px',marginTop:'10px'},className:\"logo\",src:logo,alt:\"logo\"})]})}),userInfo?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{style:{backgroundColor:'transparent',borderRadius:'10%',position:'absolute',marginLeft:'30px',right:'10px',top:'19px'},\"aria-controls\":\"customized-menu\",\"aria-haspopup\":\"true\",onClick:handleClick,children:userInfo.image?/*#__PURE__*/_jsx(\"img\",{className:\"image-profile\",src:profile,alt:\"profile\"}):/*#__PURE__*/_jsx(\"img\",{className:\"image-profile\",src:profile,alt:\"profile\"})}),/*#__PURE__*/_jsxs(StyledMenu,{id:\"customized-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,children:[/*#__PURE__*/_jsx(Link,{to:\"/user/profile\",children:/*#__PURE__*/_jsxs(StyledMenuItem,{onClick:handleClose,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(AccountCircleIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"PROFILE\"})]})}),userInfo.isAdmin&&/*#__PURE__*/_jsx(Link,{to:\"/admin/posts\",children:/*#__PURE__*/_jsxs(StyledMenuItem,{onClick:handleClose,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(DashboardIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"DASHBOARD\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/admin\",children:/*#__PURE__*/_jsxs(StyledMenuItem,{onClick:handleClose,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(HelpIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Q&A\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(StyledMenuItem,{onClick:logoutHandler,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ExitToAppIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"LOGOUT\"})]})})]})]}):'',/*#__PURE__*/_jsx(\"nav\",{className:\"main-navigation__header-nav\",children:/*#__PURE__*/_jsx(NavLink,{})})]})});};export default MainNavigation;","map":{"version":3,"sources":["/Users/pacifique/Desktop/UC/offiaclreact/src/shared/components/Navigation/MainNavigation.js"],"names":["React","useState","Link","ListItemIcon","ListItemText","ExitToAppIcon","DashboardIcon","AccountCircleIcon","HelpIcon","profile","withStyles","Button","Menu","MenuItem","MainHeader","SideDrawer","Backdrop","NavLink","useSelector","useDispatch","logout","MainNavigation","history","dispatch","userLogin","state","userInfo","drawerIsOpen","setDrawerIsOpen","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","openDrawerHandle","closeDrawerHandle","logoutHandler","push","StyledMenu","paper","border","props","vertical","horizontal","StyledMenuItem","theme","root","backgroundColor","palette","primary","main","color","common","white","name","width","marginTop","logo","borderRadius","position","marginLeft","right","top","image","Boolean","isAdmin"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport HelpIcon from '@material-ui/icons/Help';\nimport logo from '../../../images/tante-01.svg';\nimport profile from '../../../images/user.png';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport './MainNavigation.css';\nimport MainHeader from './MainHeader';\nimport SideDrawer from './SideDrawer';\nimport Backdrop from '../UIElements/Backdrop';\nimport NavLink from './NavLinks';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logout } from '../../../Action/UserActions';\n\nconst MainNavigation = ({ history }) => {\n  const dispatch = useDispatch();\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const openDrawerHandle = () => {\n    setDrawerIsOpen(true);\n  };\n  const closeDrawerHandle = () => {\n    setDrawerIsOpen(false);\n  };\n  const logoutHandler = () => {\n    setAnchorEl(null);\n    dispatch(logout());\n    if (!userInfo) {\n      history.push('/');\n    }\n  };\n\n  const StyledMenu = withStyles({\n    paper: {\n      border: '1px solid #d3d4d5',\n    },\n  })((props) => (\n    <Menu\n      elevation={0}\n      getContentAnchorEl={null}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'center',\n      }}\n      {...props}\n    />\n  ));\n\n  const StyledMenuItem = withStyles((theme) => ({\n    root: {\n      '&:focus': {\n        backgroundColor: theme.palette.primary.main,\n        '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n          color: theme.palette.common.white,\n        },\n      },\n    },\n  }))(MenuItem);\n\n  return (\n    <React.Fragment>\n      <MainHeader>\n        {drawerIsOpen && <Backdrop onClick={closeDrawerHandle} />}\n\n        <SideDrawer show={drawerIsOpen} onClick={closeDrawerHandle}>\n          <nav className='main-navigation__drawer-nav'>\n            <NavLink />\n          </nav>\n        </SideDrawer>\n\n        <button\n          className='main-navigation__menu-btn'\n          onClick={openDrawerHandle}>\n          {' '}\n          <span />\n          <span />\n          <span />{' '}\n        </button>\n        <h1 className='main-navigation__title'>\n          {userInfo ? (\n            <Link to='/'>{userInfo.name} </Link>\n          ) : (\n            <Link to='/'>\n              VoteTante{' '}\n              <img\n                style={{ width: '100px', marginTop: '10px' }}\n                className='logo'\n                src={logo}\n                alt='logo'\n              />\n            </Link>\n          )}\n        </h1>\n\n        {userInfo ? (\n          <div>\n            <Button\n              style={{\n                backgroundColor: 'transparent',\n                borderRadius: '10%',\n                position: 'absolute',\n                marginLeft: '30px',\n                right: '10px',\n                top: '19px',\n              }}\n              aria-controls='customized-menu'\n              aria-haspopup='true'\n              onClick={handleClick}>\n              {userInfo.image ? (\n                <img className='image-profile' src={profile} alt='profile' />\n              ) : (\n                <img className='image-profile' src={profile} alt='profile' />\n              )}\n            </Button>\n            <StyledMenu\n              id='customized-menu'\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}>\n              <Link to='/user/profile'>\n                <StyledMenuItem onClick={handleClose}>\n                  <ListItemIcon>\n                    <AccountCircleIcon fontSize='small' />\n                  </ListItemIcon>\n                  <ListItemText primary='PROFILE' />\n                </StyledMenuItem>\n              </Link>\n              {userInfo.isAdmin && (\n                <Link to='/admin/posts'>\n                  <StyledMenuItem onClick={handleClose}>\n                    <ListItemIcon>\n                      <DashboardIcon fontSize='small' />\n                    </ListItemIcon>\n                    <ListItemText primary='DASHBOARD' />\n                  </StyledMenuItem>\n                </Link>\n              )}\n              <Link to='/admin'>\n                <StyledMenuItem onClick={handleClose}>\n                  <ListItemIcon>\n                    <HelpIcon fontSize='small' />\n                  </ListItemIcon>\n                  <ListItemText primary='Q&A' />\n                </StyledMenuItem>\n              </Link>\n\n              <Link to='/'>\n                <StyledMenuItem onClick={logoutHandler}>\n                  <ListItemIcon>\n                    <ExitToAppIcon fontSize='small' />\n                  </ListItemIcon>\n                  <ListItemText primary='LOGOUT' />\n                </StyledMenuItem>\n              </Link>\n            </StyledMenu>\n          </div>\n        ) : (\n          ''\n        )}\n\n        <nav className='main-navigation__header-nav'>\n          <NavLink />\n        </nav>\n      </MainHeader>\n    </React.Fragment>\n  );\n};\n\nexport default MainNavigation;\n"]},"metadata":{},"sourceType":"module"}