{"ast":null,"code":"import _slicedToArray from\"/Users/pacifique/Desktop/UC/offiaclreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Input from'../../shared/components/FormElements/Input';import Button from'../../shared/components/FormElements/Button';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import Card from'../../shared/components/UIElements/Card';import LoadingSpinner from'../../shared/components/UIElements/LoadingSpinner';import{VALIDATOR_EMAIL,VALIDATOR_MINLENGTH,VALIDATOR_REQUIRE}from'../../shared/util/validators';import{useForm}from'../../shared/hooks/form-hook';import'./Register.css';import{RegisterUser}from'../../Action/UserActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var redirect=location.search?location.search.split('=')[1]:'/';var dispatch=useDispatch();var userRegister=useSelector(function(state){return state.userRegister;});var error=userRegister.error,userInfo=userRegister.userInfo,loading=userRegister.loading;useEffect(function(){if(userInfo){history.push(redirect);}},[history,userInfo,redirect]);var _useForm=useForm({email:{value:'',isValid:false},password:{value:'',isValid:false},passwordConfirm:{value:'',isValid:false},name:{value:'',isValid:false}},false),_useForm2=_slicedToArray(_useForm,2),formState=_useForm2[0],inputHandler=_useForm2[1];var registerSubmitHandler=function registerSubmitHandler(e){e.preventDefault();if(formState.inputs.password.value!==formState.inputs.passwordConfirm.value){setMessage('Password do not match');}else{dispatch(RegisterUser(formState.inputs.name.value,formState.inputs.email.value,formState.inputs.password.value,formState.inputs.passwordConfirm.value));}};return/*#__PURE__*/_jsx(\"form\",{onSubmit:registerSubmitHandler,children:/*#__PURE__*/_jsx(\"div\",{className:\"login-form-register\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-all\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register With Us \"}),message&&/*#__PURE__*/_jsx(Card,{className:\"error_message\",children:message}),error&&/*#__PURE__*/_jsx(Card,{className:\"error_message\",children:error}),loading&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),/*#__PURE__*/_jsx(Input,{element:\"input\",id:\"name\",type:\"text\",label:\"Name\",placeholder:\"Enter Name\",validators:[VALIDATOR_REQUIRE()],errorText:\"Name Required\",onInput:inputHandler}),/*#__PURE__*/_jsx(Input,{element:\"input\",id:\"email\",type:\"email\",label:\"E-Mail\",placeholder:\"Enter E-Mail\",validators:[VALIDATOR_EMAIL()],errorText:\"Please enter a valid email address.\",onInput:inputHandler}),/*#__PURE__*/_jsx(Input,{element:\"input\",id:\"password\",type:\"password\",label:\"Password\",placeholder:\"Enter Password\",validators:[VALIDATOR_MINLENGTH(6)],errorText:\"Please enter a valid password, at least 6 characters.\",onInput:inputHandler}),/*#__PURE__*/_jsx(Input,{element:\"input\",id:\"passwordConfirm\",type:\"password\",label:\"Confirm Password\",placeholder:\"Enter Password again\",validators:[VALIDATOR_MINLENGTH(6)],errorText:\"Password don't match\",onInput:inputHandler}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:!formState.isValid,children:\"Register\"}),/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'15px'},children:[\"Already have an Account?\",/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',fontSize:'20px',marginLeft:'5px'},to:redirect?\"/login?redirect=\".concat(redirect):'/login',children:\"Login\"})]})]})})})});}export default Register;","map":{"version":3,"sources":["/Users/pacifique/Desktop/UC/offiaclreact/src/Users/Pages/Register.js"],"names":["React","useEffect","useState","Input","Button","Link","useSelector","useDispatch","Card","LoadingSpinner","VALIDATOR_EMAIL","VALIDATOR_MINLENGTH","VALIDATOR_REQUIRE","useForm","RegisterUser","Register","location","history","message","setMessage","redirect","search","split","dispatch","userRegister","state","error","userInfo","loading","push","email","value","isValid","password","passwordConfirm","name","formState","inputHandler","registerSubmitHandler","e","preventDefault","inputs","fontSize","textDecoration","marginLeft"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Input from '../../shared/components/FormElements/Input';\nimport Button from '../../shared/components/FormElements/Button';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '../../shared/components/UIElements/Card';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport {\n  VALIDATOR_EMAIL,\n  VALIDATOR_MINLENGTH,\n  VALIDATOR_REQUIRE,\n} from '../../shared/util/validators';\nimport { useForm } from '../../shared/hooks/form-hook';\nimport './Register.css';\nimport { RegisterUser } from '../../Action/UserActions';\nfunction Register({ location, history }) {\n  const [message, setMessage] = useState('');\n  const redirect = location.search ? location.search.split('=')[1] : '/';\n\n  const dispatch = useDispatch();\n  const userRegister = useSelector((state) => state.userRegister);\n  const { error, userInfo, loading } = userRegister;\n\n  useEffect(() => {\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [history, userInfo, redirect]);\n\n  const [formState, inputHandler] = useForm(\n    {\n      email: {\n        value: '',\n        isValid: false,\n      },\n      password: {\n        value: '',\n        isValid: false,\n      },\n      passwordConfirm: {\n        value: '',\n        isValid: false,\n      },\n      name: {\n        value: '',\n        isValid: false,\n      },\n    },\n    false\n  );\n  const registerSubmitHandler = (e) => {\n    e.preventDefault();\n    if (\n      formState.inputs.password.value !== formState.inputs.passwordConfirm.value\n    ) {\n      setMessage('Password do not match');\n    } else {\n      dispatch(\n        RegisterUser(\n          formState.inputs.name.value,\n          formState.inputs.email.value,\n          formState.inputs.password.value,\n          formState.inputs.passwordConfirm.value\n        )\n      );\n    }\n  };\n  return (\n    <form onSubmit={registerSubmitHandler}>\n      <div className='login-form-register'>\n        <div className='container-form'>\n          <div className='form-all'>\n            <h2>Register With Us </h2>\n            {message && <Card className='error_message'>{message}</Card>}\n            {error && <Card className='error_message'>{error}</Card>}\n            {loading && <LoadingSpinner asOverlay />}\n            <Input\n              element='input'\n              id='name'\n              type='text'\n              label='Name'\n              placeholder='Enter Name'\n              validators={[VALIDATOR_REQUIRE()]}\n              errorText='Name Required'\n              onInput={inputHandler}\n            />\n            <Input\n              element='input'\n              id='email'\n              type='email'\n              label='E-Mail'\n              placeholder='Enter E-Mail'\n              validators={[VALIDATOR_EMAIL()]}\n              errorText='Please enter a valid email address.'\n              onInput={inputHandler}\n            />\n\n            <Input\n              element='input'\n              id='password'\n              type='password'\n              label='Password'\n              placeholder='Enter Password'\n              validators={[VALIDATOR_MINLENGTH(6)]}\n              errorText='Please enter a valid password, at least 6 characters.'\n              onInput={inputHandler}\n            />\n            <Input\n              element='input'\n              id='passwordConfirm'\n              type='password'\n              label='Confirm Password'\n              placeholder='Enter Password again'\n              validators={[VALIDATOR_MINLENGTH(6)]}\n              errorText=\"Password don't match\"\n              onInput={inputHandler}\n            />\n            <Button type='submit' disabled={!formState.isValid}>\n              Register\n            </Button>\n\n            <h3\n              style={{\n                fontSize: '15px',\n              }}>\n              Already have an Account?\n              <Link\n                style={{\n                  textDecoration: 'none',\n                  fontSize: '20px',\n                  marginLeft: '5px',\n                }}\n                to={redirect ? `/login?redirect=${redirect}` : '/login'}>\n                Login\n              </Link>\n            </h3>\n          </div>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}